@startuml
left to right direction
skinparam packageStyle rectangle

' Definisi Aktor
actor "Admin / Petugas Parkir" as admin
actor "Sensor Arduino (Hardware)" as sensor

rectangle "Website Sistem Parkir Mall" {

    ' Use Case untuk Autentikasi
    usecase "Login ke Sistem" as UC_Login

    ' Use Case Admin
    usecase "Melihat Dashboard Real-time" as UC_Dashboard
    usecase "Mengubah Pengaturan\n(Kapasitas & Status Toko)" as UC_Settings
    usecase "Melihat Riwayat Log\n(Keluar/Masuk)" as UC_Log

    ' Use Case Sistem/Sensor
    usecase "Deteksi & Kirim Data\nMobil MASUK" as UC_InputMasuk
    usecase "Deteksi & Kirim Data\nMobil KELUAR" as UC_InputKeluar

    ' Use Case Logika Internal (Invisible)
    usecase "Hitung Sisa Slot Otomatis" as UC_Hitung

}

' Relasi Admin
admin -- UC_Login
admin -- UC_Dashboard
admin -- UC_Settings
admin -- UC_Log

' Relasi Sensor
sensor -- UC_InputMasuk
sensor -- UC_InputKeluar

' Relasi Include (Ketergantungan)
' Artinya: Saat membuka Dashboard, sistem WAJIB menghitung sisa slot
UC_Dashboard ..> UC_Hitung : <<include>>

' Syarat Login (Opsional secara visual, tapi logis)
UC_Dashboard ..> UC_Login : <<include>>
UC_Settings ..> UC_Login : <<include>>

note right of UC_Hitung
  Rumus:
  (Kapasitas Total) - (Total Masuk - Total Keluar)
end note

@enduml